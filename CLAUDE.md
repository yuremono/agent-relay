# プロジェクトレベル CLAUDE.md（プロジェクト設定）

## プロジェクト概要

**目的**: Cursor/VS Code 内で完結する、複数の Claude Code セッションが YAML ファイルを介して自律的に連携するnpmパッケージの構築

##詳細

随時更新します。

// LINK MCP_MULTIAGENT_PLANNING.md

**計画書作成者**: Claude (Web版)  
**実装担当者**: Claude Code (ローカル)  
**最終承認者**: ユーザー

Claude (Web版)  の計画書に記入漏れがあり矛盾点が生じている可能性があります。
Claude Codeエージェントはユーザーが入力するチャットの内容を重要視してください。

## 重要なルール

### 1. コード構成
- 巨大なファイルよりも、小さく分割された多数のファイルを優先する
- 高凝集・低結合
- 1ファイルあたり200〜400行が目安、最大800行
- 機能/ドメイン別に整理する

### 2. コードスタイル
- コード、コメント、ドキュメントに絵文字を使用しない
- **常に不変性（Immutability）を維持する** - オブジェクトや配列を直接変更しない
- 本番コードに `console.log` を残さない
- `try/catch` による適切なエラーハンドリング
- Zodなどを用いた入力バリデーション

### 3. a11y（アクセシビリティ）
- **a11yツリー（アクセシビリティツリー）** の考え方を採用
- AIが理解しやすい属性（role, aria-*）を付与
- 要素を「意味のある部品」として扱う

```tsx
// 例: a11y準拠の属性
<div
  data-id="blk_abc123"
  data-type="heading"
  role="heading"
  aria-level="2"
  aria-label="ヒーローセクションのメイン見出し"
>
  <h2>Multi Agent</h2>
</div>
```

##**主要原則:**

1. **テスト駆動 (TDD)**: 実装の前にテストを書く。
2. **セキュリティ第一**: セキュリティに関しては決して妥協しない。
3. **対話言語**: 常に日本語で回答する。